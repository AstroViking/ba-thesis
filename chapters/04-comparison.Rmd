# Comparison {#comparison}

```{r, setup, echo=FALSE, eval=TRUE}
library('reticulate')
use_condaenv('ba-thesis')
```

To compare the different implementations I created a simple test distribution comprised of three gaussian, one uniform and one exponential distribution. The distribution is created by using the TensorFlow Probability package and its Mixture Model.

## Generation of Test Distribution

Listing: Test Distribution generation
```{python, kdeImpl, code=readLines('src/tf-kde/tf_kde/tests/test_distribution.py'), echo=TRUE, eval=FALSE, results='hide'}
```

## Comparing different methods

```{python, kdeImpl, code=readLines('src/tf-kde/tf_kde/tests/comparison.py'), echo=TRUE, eval=TRUE, , results='hide'}
```


Running this, leads to the following comparison:

```{r, echo=FALSE, eval=TRUE}
knitr::kable(py$methods, booktabs = TRUE, caption = 'Runtime comparison')
```

```{r, echo=FALSE, eval=TRUE}
knitr::kable(py$estimations, booktabs = TRUE, caption = 'Accuracy comparison')
```

Plotted for reference:
```{python, echo=FALSE, eval=TRUE}
import matplotlib.pyplot as plt
ax = estimations.plot(x='x', y=['basic', 'KDEpy', 'basicTF', 'tfp', 'tfpM', 'tfpMB', 'tfpMFFT'], style=['-', '--', '-.', ':', '--', '-.', '--'])
plt.show()
```